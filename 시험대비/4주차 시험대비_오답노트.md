### 사용 모델 필드

- CharField(max_length=None)
- TextField



![image-20210906000416776](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906000416776.png)



![image-20210906000450998](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906000450998.png)

![image-20210906000510286](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906000510286.png)



Article.objects.all()

```python
class Article(models.Model):
  title = models.CharField(max_length=10)
  content = models.TextFied()
  created_at = models.DateTimeField(auto_now_add=True)
  updated_at = models.DateTimeField(auto_now=True)
  
  def __str__(self):
    return self.title

```

![image-20210906000900995](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906000900995.png)



- 데이터베이스 기본구조
  - 스키마
  - 테이블: 열(필드), 행(레코드)

save()

{% csrf_token %}

ORM : Object Retational Mapping : 호환되지 않는 데이터를 변환하는 프로그래밍 기법{% }

created_at : auto_now_add : 최초 생성 일자, dh

updated_at : auto_now : 최종 수정 일자, save 할때마다 갱신



```python
python manage.py makemigrations 
python manage.py migrate
---
python manage.py sqlmigrate <appname>
```

```python
class Article(models.Model):
  title = models.CharField(max-length=10)
  content = models.TextField()
```

```python
    # 필드 = 어떤 유형?
    title = models.CharField(max_length=15)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    # str 메소드 통해 보기좋게 출력
    def __str__(self):
        return self.title
```

### READ

```python
Article.objects.all()
article = Article.objects.get(pk=100)
Article.objects.filter(content='django!')
```

##### get

- 주어진 lookup 매개변수와 일치하는 객체를 반환
- primary key와 같이 고유성을 보장하는 조회에서 사용
- 특정 리소스를 가져오도록 요청할 때 사용, 반드시 데이터를 가져올 때만 사용해야 함
- 디비에 변화를 주지 않음, r 역할 담당

##### post

- 서버로 데이터를 전송할 때 사용
- 서버에 변경사항을 만듦
- c , u, d 역할을 담당



### DELETE

```python
article = Article.objects.get(pk=1)
article.delete()
```



### CRSF - Cross-site request forgery

: 자신의 의지와 부관하게 공격자가 의도한 행동을 하여 특정 웹페이지를 보안에 취약하게 한다거나 수정, 삭제 등의 작업을 하게 만드는 공격방법

```python
{% csrf_token %}
```



![image-20210906002318887](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906002318887.png)

![image-20210906002337115](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906002337115.png)

![image-20210905234115683](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210905234115683.png)

![image-20210906002929290](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906002929290.png)

![image-20210906002952797](/Users/euijinpang/TIL/4주차 시험대비.assets/image-20210906002952797.png)

```python
python manage.py shell_plus
```





## create

```python
article = Article()
article

# 인스턴스 변수에 값을 할당
article.title = 'first'
article.content = 'dgango!'

Article.objects.all()

--- 
# 초기값과 함께 인스턴스 생성
article = Article(title='second', content='django!!')
article.save()

---
# QuerySet API - create() 사용
Article.objects.create(title='third', content='django!')
```



### 오답노트

#### 어드민

- 계정생성 | python manage.py createsuperuser

- 등록 ㅣ admin.site.register(Article)

![image-20210906101144073](/Users/euijinpang/TIL/4주차 시험대비_오답노트.assets/image-20210906101144073.png)

![image-20210906101236965](/Users/euijinpang/TIL/4주차 시험대비_오답노트.assets/image-20210906101236965.png)



### 내림차순

![image-20210906101343767](/Users/euijinpang/TIL/4주차 시험대비_오답노트.assets/image-20210906101343767.png)
