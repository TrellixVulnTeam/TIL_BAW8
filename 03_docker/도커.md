### 도커란?

OS 레벨 가상화를 이용하여 컨테이너화 된 소프트웨어 패키징 및 관리가 가능한 가상화 도구



Host Operating System 에서 바로 실행

컨테이너 관리 도구

운영할 때, 마이크로 프로세스로 띄우는 전문 컨테이너 오퍼레이션 => 쿠버네틱스

![image-20211224094606669](도커.assets/image-20211224094606669.png)

### 이미지와 컨테이너

도커파일(운영체제, app, 런타임) => `docker build app` => 이미지 생성 => `docker run <image> ` => runnung app container

![image-20211224094710555](도커.assets/image-20211224094710555.png)

- 도커 파일은 직접 만들어야 한다. (리눅스, 쉘)
- 호스트 Pc 커널이 밑에 있고, Base Image 선정, 웹서비스는 아파치 등 얹는다.
- Dockerfile 에 상세히 적어야.
- 각각 고유한 해시아이디가 부여, 런타임에서는 읽기전용에서 쓰기전용으로 바뀌고 로그 등이 적힌다. 
- 누구나 봐도 서버가 어떻게 돌지 생각해야

### 도커 사용이유

- 서버의 상태를 유추할 수 있도록, 휴먼에러를 줄일 수 있도록

### 도커 구조 및 장점

![image-20211224094959529](도커.assets/image-20211224094959529.png)

- 빌드하면 이미지 만듦
- 풀 하면 로컬 보고, 없으면 레지스트리에 가서 받아옴
- 런 하면 바로 실행, 없으면 받아다가 실행



![image-20211224094216157](도커.assets/image-20211224094216157.png)

[ 빌드 - 단위테스트 - 통합테스트 ] => [ 서버에 배포 ]

![image-20211224094356636](도커.assets/image-20211224094356636.png)

빌드, 설치 작업을 컨테이너 안에 담아서 관리한다.

도커를 기반으로 로컬 개발환경을 구성하고 서버에 배포한다. (deploy)

![image-20211224094532281](도커.assets/image-20211224094532281.png)